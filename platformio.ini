; PlatformIO Project Configuration File for Powerbaas
;
; Please visit documentation for the other options and examples
; https://docs.platformio.org/page/projectconf.html

[platformio]
; Uncomment to use a different example
; src_dir = examples/SimpleMQTT
; src_dir = examples/SimpleSerial
; src_dir = examples/SimpleWebserver
; src_dir = examples/AdvancedWebserverKaku
default_envs = esp32dev

[env:esp32dev]
platform = espressif32
board = esp32dev
framework = arduino

; Serial Monitor settings
monitor_speed = 115200
monitor_filters = esp32_exception_decoder

; Build settings
build_flags =
    -D CORE_DEBUG_LEVEL=3

; Library dependencies
lib_deps =
    ; WiFi Manager
    tzapu/WiFiManager@^2.0.16-rc.2

    ; MQTT Client
    knolleary/PubSubClient@^2.8

    ; JSON Processing
    bblanchon/ArduinoJson@^6.21.3

; Filesystem settings for SPIFFS
board_build.filesystem = spiffs
board_build.partitions = default.csv

; Upload settings (uncomment and adjust if needed)
; upload_port = COM3
; upload_speed = 921600

[env:esp32dev_ota]
extends = env:esp32dev
upload_protocol = espota
upload_port = powerbaas.local
upload_flags =
    --auth=powerbaas123
    --port=3232
